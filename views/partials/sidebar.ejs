<aside class="sidebar">
    <div class="logo-space">
        <img src="/logo-ludus.png" alt="Ludus Logo">
    </div>
    <nav class="menu">
        <% 
            const isAdmin = currentUser && (
                Array.isArray(currentUser.perfil) 
                    ? currentUser.perfil.some(p => {
                        const n = (p || '').toString().toLowerCase().trim();
                        return n === 'admin' || n === 'administrador' || n === 'adm';
                    })
                    : (() => {
                        const n = (currentUser.perfil || '').toString().toLowerCase().trim();
                        return n === 'admin' || n === 'administrador' || n === 'adm';
                    })()
            );
        %>
        <a href="/mapeamento" class="menu-item">
            <span class="menu-icon">ðŸŽ®</span>
            Mapear Jogo
        </a>
        <a href="/usuario" class="menu-item">
            <span class="menu-icon">ðŸ‘¤</span>
            UsuÃ¡rio
        </a>
        <% if (isAdmin) { %>
        <a href="/aulas" class="menu-item">
            <span class="menu-icon">ðŸ“–</span>
            Aulas
        </a>
        <% } %>
        <a href="/turmas" class="menu-item">
            <span class="menu-icon">ðŸ‘¥</span>
            Turmas
        </a>
        <% if (isAdmin) { %>
        <a href="/ocorrencias" class="menu-item">
            <span class="menu-icon">ðŸ“‹</span>
            OcorrÃªncias
        </a>
        <% } %>
        <a href="/logout" class="menu-item">
            <span class="menu-icon">ðŸšª</span>
            Sair
        </a>
    </nav>
</aside>